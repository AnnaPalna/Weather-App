(()=>{"use strict";window.addEventListener("load",(()=>{let e,t,n=document.querySelector(".city-name__title"),a=(document.querySelector(".city-name__time"),document.querySelector(".city-name__date"),document.querySelector(".temperature__value")),o=document.querySelector(".conditions__value"),d=document.querySelector(".humidity__value"),i=document.querySelector(".wind__value");document.querySelector(".weather-icon__img"),navigator.geolocation&&navigator.geolocation.getCurrentPosition((r=>{e=r.coords.longitude,t=r.coords.latitude,fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=3e297a51b01ad56e318392fec6716e11`).then((e=>e.json())).then((e=>{console.log(e),n.textContent=e.name;let t=e.main.temp;var r;a.textContent=Math.round(t-273.15)+"С°",d.textContent=e.main.humidity+"%",o.textContent=e.weather[0].description,i.textContent=Math.floor(e.wind.speed)+"m/s","01d"===(r=e.weather[0].icon)&&(r="../animated/night.svg"),"01n"===r&&(r="../animated/night.svg"),"02d"===r&&(r="../animated/cloudy-day-1.svg"),"02n"===r&&(r="../animated/cloudy-night-1.svg"),"03d"!==r&&"03n"!==r||(r="../animated/cloudy.svg"),"04d"!==r&&"04n"!==r||(r="../animated/rainy-1.svg"),"09d"!==r&&"09n"!==r||(r="../animated/rainy-7.svg"),"10d"!==r&&"10n"!==r||(r="../animated/rainy-3.svg"),"11d"!==r&&"11n"!==r||(r="../animated/thunder.svg"),"13d"!==r&&"13n"!==r||(r="../animated/snowy-6.svg"),"50d"!==r&&"50n"!==r||(r="../animated/rainy-4.svg")}))}))}));let e=document.querySelector(".search-form__input");document.querySelector(".search-form__button").addEventListener("click",(t=>{t.preventDefault();let n=`https://api.openweathermap.org/data/2.5/weather?q=${a}&appid=3e297a51b01ad56e318392fec6716e11`,a=e.value;localStorage.setItem("city",a);let o=document.querySelector(".city-name__title");console.log(localStorage.getItem("city")),e.value="",fetch(n).then((e=>e.json())).then((e=>{console.log(e),o.textContent=e.name}))}))})();